<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RAVE: /github/workspace/modules/pycomposite.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">RAVE
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e05d7e2b1ecd646af5bb94391405f3b5.html">modules</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">pycomposite.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Python version of the Composite API.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;pyravecompat.h&quot;</code><br />
<code>#include &lt;limits.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="pyrave__debug_8h_source.html">pyrave_debug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pycomposite_8h_source.html">pycomposite.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pypolarvolume_8h_source.html">pypolarvolume.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pypolarscan_8h_source.html">pypolarscan.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pycartesian_8h_source.html">pycartesian.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pyarea_8h_source.html">pyarea.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rave__alloc_8h_source.html">rave_alloc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="raveutil_8h_source.html">raveutil.h</a>&quot;</code><br />
<code>#include &quot;rave.h&quot;</code><br />
<code>#include &quot;<a class="el" href="pycompositealgorithm_8h_source.html">pycompositealgorithm.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a5e922850d98b07dcbb40b19d951df60f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pycomposite_8c.html#a5e922850d98b07dcbb40b19d951df60f">PYCOMPOSITE_MODULE</a></td></tr>
<tr class="memdesc:a5e922850d98b07dcbb40b19d951df60f"><td class="mdescLeft">&#160;</td><td class="mdescRight">to get correct part of <a class="el" href="pycomposite_8h.html" title="Python version of the Composite API.">pycomposite.h</a>  <br /></td></tr>
<tr class="separator:a5e922850d98b07dcbb40b19d951df60f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e30095579331fe0846ee2481b556736"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pycomposite_8c.html#a7e30095579331fe0846ee2481b556736">raiseException_gotoTag</a>(tag,  type,  msg)&#160;&#160;&#160;{PyErr_SetString(type, msg); goto tag;}</td></tr>
<tr class="memdesc:a7e30095579331fe0846ee2481b556736"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a python exception and goto tag.  <br /></td></tr>
<tr class="separator:a7e30095579331fe0846ee2481b556736"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad000a1479725e10e29e643a3b7efb72d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pycomposite_8c.html#ad000a1479725e10e29e643a3b7efb72d">raiseException_returnNULL</a>(type,  msg)&#160;&#160;&#160;{PyErr_SetString(type, msg); return NULL;}</td></tr>
<tr class="memdesc:ad000a1479725e10e29e643a3b7efb72d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a python exception and return NULL.  <br /></td></tr>
<tr class="separator:ad000a1479725e10e29e643a3b7efb72d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac2317df67a67712dcfc03ac9001c7910"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pycomposite_8c.html#ac2317df67a67712dcfc03ac9001c7910">PYRAVE_DEBUG_MODULE</a> (&quot;_pycomposite&quot;)</td></tr>
<tr class="memdesc:ac2317df67a67712dcfc03ac9001c7910"><td class="mdescLeft">&#160;</td><td class="mdescRight">Debug this module.  <br /></td></tr>
<tr class="separator:ac2317df67a67712dcfc03ac9001c7910"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a499b8981efd8481bf6bf52c135c6307a"><td class="memItemLeft" align="right" valign="top"><a id="a499b8981efd8481bf6bf52c135c6307a" name="a499b8981efd8481bf6bf52c135c6307a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>PyDoc_STRVAR</b> (_pycomposite_type_doc, &quot;The composite type provides the possibility to create cartesian composites from a number of polar objects.\n&quot; &quot;To generate the composite, one or many polar scans or polar volumes has to be added to the generator. Then generate should be called with the expected area and an optional list of how/task quality field names.\n&quot; &quot;There are a few attributes that can be set besides the functions.\n&quot; &quot; height                       - The height in meters that should be used when generating a composite like CAPPI, PCAPPI or PMAX.\n&quot; &quot; elangle                      - The elevation angle in radians that should be used when generating a composite like PPI.&quot; &quot; range                        - The range that should be used when generating the Pseudo MAX. This range is the limit in meters\n&quot; &quot;                                for when the vertical max should be used. When outside this range, the PCAPPI value is used instead.\n&quot; &quot; product                      - The product type that should be generated when generating the composite.\n&quot; &quot;                                Height/Elevation angle and range are used in combination with the products.\n&quot; &quot;                                PPI requires elevation angle\n&quot; &quot;                                CAPPI, PCAPPI and PMAX requires height above sea level\n&quot; &quot;                                PMAX also requires range in meters\n&quot; &quot; selection_method             - The selection method to use when there are more than one radar covering same point. I.e. if for example taking distance to radar or height above sea level. Currently the following methods are available\n&quot; &quot;       _pycomposite.SelectionMethod_NEAREST - Value from the nearest radar is selected.\n&quot; &quot;       _pycomposite.SelectionMethod_HEIGHT  - Value from radar which scan is closest to the sea level at current point.\n&quot; &quot; interpolation_method         - Interpolation method is used to choose how to interpolate the surrounding values. The default behaviour is NEAREST.\n&quot; &quot;       _pycomposite.InterpolationMethod_NEAREST                  - Nearest value is used\n&quot; &quot;       _pycomposite.InterpolationMethod_LINEAR_HEIGHT            - Value calculated by performing a linear interpolation between the closest positions above and below\n&quot; &quot;       _pycomposite.InterpolationMethod_LINEAR_RANGE             - Value calculated by performing a linear interpolation between the closest positions before\n&quot; &quot;                                                                   and beyond in the range dimension of the ray\n&quot; &quot;       _pycomposite.InterpolationMethod_LINEAR_AZIMUTH           - Value calculated by performing a linear interpolation between the closest positions on each\n&quot; &quot;                                                                   side of the position, i.e., interpolation between consecutive rays\n&quot; &quot;       _pycomposite.InterpolationMethod_LINEAR_RANGE_AND_AZIMUTH - Value calculated by performing a linear interpolation in azimuth and range directions.\n&quot; &quot;       _pycomposite.InterpolationMethod_LINEAR_3D                - Value calculated by performing a linear interpolation in height, azimuth and range directions.\n&quot; &quot;       _pycomposite.InterpolationMethod_QUADRATIC_HEIGHT         - Value calculated by performing a quadratic interpolation between the closest positions before and beyond in\n&quot; &quot;                                                                   the range dimension of the ray. Quadratic interpolation means that inverse distance weights raised to the\n&quot; &quot;                                                                   power of 2 are used in value interpolation.\n&quot; &quot;       _pycomposite.InterpolationMethod_QUADRATIC_3D             - Value calculated by performing a quadratic interpolation in height, azimuth and range\n&quot; &quot;                                                                   directions. Quadratic interpolation means that inverse distance weights raised to the\n&quot; &quot;                                                                   power of 2 are used in value interpolation.\n&quot; &quot; date                         - The nominal date as a string in format YYYYMMDD\n&quot; &quot; time                         - The nominal time as a string in format HHmmss\n&quot; &quot; quality_indicator_field_name - If this field name is set, then the composite will be generated by first using the quality indicator field for determining\n&quot; &quot;                                radar usage. If the field name is None, then the selection method will be used instead.\n&quot; &quot;\n&quot; &quot;Usage:\n&quot; &quot; import _pycomposite\n&quot; &quot; generator = _pycomposite.new()\n&quot; &quot; generator.selection_method = _pycomposite.SelectionMethod_HEIGHT\n&quot; &quot; generator.product = \&quot;PCAPPI\&quot;\n&quot; &quot; generator.height = 500.0\n&quot; &quot; generator.date = \&quot;20200201\&quot;\n&quot; &quot; generator.date = \&quot;100000\&quot;\n&quot; &quot; generator.addParameter(\&quot;DBZH\&quot;, 2.0, 3.0, -30.0)\n&quot; &quot; generator.add(_rave.open(\&quot;se1_pvol_20200201100000.h5\&quot;).object)\n&quot; &quot; generator.add(_rave.open(\&quot;se2_pvol_20200201100000.h5\&quot;).object)\n&quot; &quot; generator.add(_rave.open(\&quot;se3_pvol_20200201100000.h5\&quot;).object)\n&quot; &quot; result = generator.generate(myarea, [\&quot;se.smhi.composite.distance.radar\&quot;,\&quot;pl.imgw.radvolqc.spike\&quot;])\n&quot;)</td></tr>
<tr class="separator:a499b8981efd8481bf6bf52c135c6307a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e83119d7b59f1e14c6e0e72a51899e1"><td class="memItemLeft" align="right" valign="top"><a id="a1e83119d7b59f1e14c6e0e72a51899e1" name="a1e83119d7b59f1e14c6e0e72a51899e1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MOD_INIT</b> (_pycomposite)</td></tr>
<tr class="separator:a1e83119d7b59f1e14c6e0e72a51899e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a6c083061a276d6a720689f6dae849cc3"><td class="memItemLeft" align="right" valign="top"><a id="a6c083061a276d6a720689f6dae849cc3" name="a6c083061a276d6a720689f6dae849cc3"></a>
PyTypeObject&#160;</td><td class="memItemRight" valign="bottom"><b>PyComposite_Type</b></td></tr>
<tr class="separator:a6c083061a276d6a720689f6dae849cc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Python version of the Composite API. </p>
<dl class="section author"><dt>Author</dt><dd>Anders Henja (Swedish Meteorological and Hydrological Institute, SMHI) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2010-01-29 </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a5e922850d98b07dcbb40b19d951df60f" name="a5e922850d98b07dcbb40b19d951df60f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e922850d98b07dcbb40b19d951df60f">&#9670;&#160;</a></span>PYCOMPOSITE_MODULE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PYCOMPOSITE_MODULE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>to get correct part of <a class="el" href="pycomposite_8h.html" title="Python version of the Composite API.">pycomposite.h</a> </p>

</div>
</div>
<a id="a7e30095579331fe0846ee2481b556736" name="a7e30095579331fe0846ee2481b556736"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e30095579331fe0846ee2481b556736">&#9670;&#160;</a></span>raiseException_gotoTag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define raiseException_gotoTag</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tag, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;{PyErr_SetString(type, msg); goto tag;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a python exception and goto tag. </p>

</div>
</div>
<a id="ad000a1479725e10e29e643a3b7efb72d" name="ad000a1479725e10e29e643a3b7efb72d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad000a1479725e10e29e643a3b7efb72d">&#9670;&#160;</a></span>raiseException_returnNULL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define raiseException_returnNULL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;{PyErr_SetString(type, msg); return NULL;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a python exception and return NULL. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac2317df67a67712dcfc03ac9001c7910" name="ac2317df67a67712dcfc03ac9001c7910"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2317df67a67712dcfc03ac9001c7910">&#9670;&#160;</a></span>PYRAVE_DEBUG_MODULE()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PYRAVE_DEBUG_MODULE </td>
          <td>(</td>
          <td class="paramtype">&quot;_pycomposite&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Debug this module. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
