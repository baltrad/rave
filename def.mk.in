# Make sure I get access to all variables set when
# installing the hlhdf package.
-include @HLHDF_HLDEF_MK_FILE@

srcdir = 	@srcdir@
prefix =        @prefix@
VPATH = 	@srcdir@

RAVE_INCLUDE_FLAG=  -I@prefix@/include
RAVE_LIB_FLAG=      -L@prefix@/lib

CC=		@PYCC@
RANLIB=		@RANLIB@
AR=		@AR@

OPTS=		@PYOPT@
LDFLAGS=	@PYLDFLAGS@
LDSHARED=	@PYLDSHARED@
CCSHARED=	@PYCCSHARED@
DEFS=		@PYDEFS@
INCLUDE_PYTHON=	@PY_INCLUDES@
PYTHON_INCLUDE_FLAG=@PY_INCLUDES@
SITEPACK_PYTHON= @PY_SITEPACK@
PYTHON_BIN= @PY_PYTHON_BIN@

COMPILE_FOR_PYTHON= @COMPILE_FOR_PYTHON@

CREATE_ITRUNC= @GOT_ITRUNC@

PROJ_INCLUDE_DIR=@PROJ_INCLUDE_DIR@
PROJ_LIB_DIR=@PROJ_LIB_DIR@
PROJ_INCLUDE_FLAG=  @PROJ_INCLUDE_DIR@
PROJ_LIBRARY_FLAG=  @PROJ_LIB_DIR@
USE_PROJ4_API=@USE_PROJ4_API@

EXPAT_INCLUDE_DIR=@EXPAT_INCLUDE_DIR@
EXPAT_LIB_DIR=@EXPAT_LIB_DIR@
EXPAT_SUPPRESSED=@EXPAT_SUPPRESSED@

JDK_SUPRESSED=@JDK_SUPRESSED@
JDK_ROOT=@JDK_ROOT@
JDK_VERSION=@JDK_VERSION@

BUFR_INCLUDE_DIR=@BUFR_INCLUDE_DIR@
BUFR_LIB_DIR=@BUFR_LIB_DIR@
BUFR_TABLE_DIR=@BUFR_TABLE_DIR@
BUFR_SUPPRESSED=@BUFR_SUPPRESSED@

NETCDF_INCLUDE_DIR=@NETCDF_INCLUDE_DIR@
NETCDF_LIB_DIR=@NETCDF_LIB_DIR@
NETCDF_SUPPRESSED=@NETCDF_SUPPRESSED@
CF_SUPPRESSED=@CF_SUPPRESSED@


GOT_PTHREAD_SUPPORT=@GOT_PTHREAD_SUPPORT@

NUMPY_INCLUDE_DIR=@NUMPY_INCLUDE_DIR@
NUMPY_INCLUDE_FLAG= @NUMPY_INCLUDE_DIR@

HLHDF_ROOTDIR= @HLHDF_ROOTDIR@
HLHDF_INCLUDE_DIR= @HLHDF_INCLUDE_DIR@
HLHDF_LIB_DIR= @HLHDF_LIB_DIR@
HLHDF_INSTALL_BIN= @HLHDF_INSTALL_BIN@
HLHDF_HLDEF_MK_FILE= @HLHDF_HLDEF_MK_FILE@
HLHDF_LIBRARY_FLAG= -L@HLHDF_LIB_DIR@
HLHDF_INCLUDE_FLAG= -I@HLHDF_INCLUDE_DIR@

RAVE_VERSION= @RAVE_VERSION@
RAVE_PATCH_LEVEL=@RAVE_PATCH_LEVEL@

#
# These flags should be used by extension modules that are using
# rave in order to compile and link properly.
# The CFLAGS contains include directives for the extras
# LDFLAGS contains library paths for the extras
# LIBRARIES is a list of libraries, like -lOperaBufr -lexpat -l....
#
RAVE_MODULE_CFLAGS=$(SHARED_FLAG) $(CCOPTS) $(DEFS) $(RAVE_INCLUDE_FLAG) $(HLHDF_INCLUDE_FLAG) $(ZLIB_INCDIR) $(HDF5_INCDIR) $(PROJ_INCLUDE_FLAG)
RAVE_MODULE_PYCFLAGS= $(SHARED_FLAG) $(CCOPTS) $(DEFS) $(PYTHON_INCLUDE_FLAG) $(NUMPY_INCLUDE_FLAG) $(RAVE_INCLUDE_FLAG) $(RAVE_INCLUDE_FLAG)/python $(HLHDF_INCLUDE_FLAG) $(ZLIB_INCDIR) $(HDF5_INCDIR) $(PROJ_INCLUDE_FLAG)
RAVE_MODULE_LDFLAGS= $(RAVE_LIB_FLAG) $(HLHDF_LIBRARY_FLAG) $(ZLIB_LIBDIR) $(HDF5_LIBDIR) $(PROJ_LIBRARY_FLAG)
RAVE_MODULE_LIBRARIES=-lravetoolbox -lhlhdf -lproj -lravetnc
RAVE_MODULE_PYLIBRARIES=-lravepyapi -lravetoolbox -lhlhdf -lproj -lravetnc

ifeq ($(EXPAT_SUPPRESSED), no)
RAVE_MODULE_LDFLAGS+= $(EXPAT_LIB_DIR)
RAVE_MODULE_LIBRARIES+= -lexpat
RAVE_MODULE_PYLIBRARIES+= -lexpat
endif

ifeq ($(BUFR_SUPPRESSED), no)
RAVE_MODULE_LDFLAGS+= $(BUFR_LIB_DIR)
RAVE_MODULE_LIBRARIES+= -lOperaBufr
RAVE_MODULE_PYLIBRARIES+= -lOperaBufr
endif

ifeq ($(NETCDF_SUPPRESSED), no)
RAVE_MODULE_LDFLAGS+= $(NETCDF_LIB_DIR)
RAVE_MODULE_LIBRARIES+= -lnetcdf
RAVE_MODULE_PYLIBRARIES+= -lnetcdf
endif

ifeq ($(GOT_PTHREAD_SUPPORT), yes)
RAVE_MODULE_LIBRARIES+= -lpthread
RAVE_MODULE_PYLIBRARIES+= -lpthread
endif

ifeq ($(USE_PROJ4_API), yes)
OPTS+=-DUSE_PROJ4_API
RAVE_MODULE_CFLAGS+= -DUSE_PROJ4_API
RAVE_MODULE_PYCFLAGS+= -DUSE_PROJ4_API
endif



